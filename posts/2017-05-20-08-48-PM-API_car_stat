---
preview: Инструкция к бекенду к приложению статистики
title: Car Statistics APP
tags: APP, -----post-locked-by:rrLero
author: rrLero
date: 2017-05-20 23:25:00
---
Бекенд находится здесь: https://floating-scrubland-23282.herokuapp.com
 user_id - id пользователя по которому будут фильтроваться все действия в БД
 car_id - id машины по которой будут фильтроваться запросы в БД
 
**ОПЕРАЦИИ С ТАБЛИЦЕЙ USERS**
* **GET /user **- выводит список юзеров из базы в виде json.
* **POST /user **+ json = {'user_name': 'some_name', 'password': 'some_pass'}  - добавляет пользователя. Вернет статус + сообщение о выполненной операции.


**ОПЕРАЦИИ С ТАБЛИЦЕЙ CARS**- все запосы авторизированные, необходимо отправлять в аргументах token, если токена нет, то будет приходить ошибка 401
* **GET /car** -вернет список машин из базы в виде json
* ** POST /car** + json = {'gov_number': 'some_number', 'car_type': 'car_type', 'gov_number_trailer': 'gov_number_trailer'} - добавляет машину в базу данных. Вернет статус + сообщение о выполненной операции.
* **DELETE /car/(int:car_id)** - удалит машину данного юзера с таким car_id из БД.  Вернет статус + сообщение о выполненной операции.


**ОПЕРАЦИИ С ТАБЛИЦЕЙ NOTES**- все запосы авторизированные, необходимо отправлять в аргументах token, если токена нет, то будет приходить ошибка 401
* **GET /notes **- вернет список всех записей о ТО из базы в виде json
* **POST /notes/(int:car_id) **+ json = {'date': 'date', 'km': 'km', 'works': 'works description', 'pays': 'price of works'} - добавляет запись о ТО машины с таким id юзера от которого идет запрос
* **DELETE /notes/(int:note_id) ** - удалит запись о ТО данного юзера по id этой записи. Вернет статус + сообщение о выполненной операции.

**ЗАПРОС НА ПОЛУЧЕНИЕ ТОКЕНА**
* **POST /get_token + user_name и password** в аргументах - вернет сгенерированный токен.